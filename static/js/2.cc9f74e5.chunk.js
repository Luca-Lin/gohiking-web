(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[2],{1022:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return R}));var o=a(39),n=a(15),i=a(24),r=a.n(i),c=a(0),l=a.n(c),s=a(197),p=a(6),f=a(114),d=a(736),u=a(346),g=a(86),h=a(852),m=a.n(h),b=a(853),x=a.n(b),j=a(854),v=a.n(j),k=a(121),O=a(26),y=a.p+"static/media/sample.c5c1fd6a.jpg",w=(a(845),a(846),a(163)),I=a.n(w),S=a.p+"static/media/google-icon.a45b46e9.svg",A=a(847),C=(a(995),a(996),a(850),a(3)),D=l.a.useState,T=l.a.useRef,B=l.a.useLayoutEffect;A.a.apps.length?A.a.app():A.a.initializeApp({apiKey:"AIzaSyAZECXAG-TWAR9_AOlKExuq2tJ-8tWVfA4",authDomain:"go-hiking-test.firebaseapp.com",databaseURL:"https://go-hiking-test-default-rtdb.europe-west1.firebasedatabase.app",projectId:"go-hiking-test",storageBucket:"go-hiking-test.appspot.com",messagingSenderId:"1009464473437",appId:"1:1009464473437:web:b6283b9c93964195409ab4",measurementId:"G-DLB3B3L50D"});var L=Object(s.a)((function(e){return{container:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},root:{maxheight:"600",width:"100%",margin:"0",padding:"0",overflowX:"hidden",objectFit:"cover"},google:{margin:"auto"},facebook:{display:"flex",backgroundColor:"#4267b2",letterSpacing:2,color:"#ffffff",width:"92%",height:"44px",marginBottom:"16px",margin:"auto"},newFacebook:{width:"92%",height:"44px",borderRadius:"4px",background:"#4267b2",color:"#ffffff",border:"0px transparent",letterSpacing:2,marginBottom:"16px",margin:"auto",display:"flex",fontSize:"13.5px",padding:"13px 0px 0px",justifyContent:"center",shadowRadius:"15"}}})),U=Object(p.a)((function(){return{root:{display:"flex",backgroundColor:"#ffffff",letterSpacing:1.6,color:"#000000",width:"92%",height:"44px",marginBottom:"16px",margin:"auto",fontWeight:"500"}}}))(u.a),W=Object(p.a)((function(){return{root:{display:"flex",backgroundColor:"#4267b2",letterSpacing:2,color:"#ffffff",width:"92%",height:"44px",marginBottom:"16px",margin:"auto"}}}))(u.a),_=Object(p.a)((function(){return{root:{display:"flex",backgroundColor:"#000000",letterSpacing:2,color:"#ffffff",width:"92%",height:"44px",marginBottom:"16px",margin:"auto"}}}))(u.a),F=Object(p.a)((function(){return{root:{display:"flex",backgroundColor:"#ffffff",letterSpacing:1.6,color:"#000000",width:"92%",height:"44px",margin:"auto",fontWeight:"500"}}}))(u.a),P=Object(f.b)({palette:{primary:{main:"#b000ff",contrastText:"#ffffff"}}}),E=localStorage.getItem("previous_pathname");function R(){var e=L(),t=D({}),a=Object(n.a)(t,2),i=a[0],c=a[1],l=Object(O.k)();var s=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("========final data_apple===========",i),e.next=3,I.a.post("https://staging-server.gohiking.app/api/auth/social/callback",i).then((function(e){console.log("====post success====",e),console.log("====second response token====",e.data.token),localStorage.setItem("token",e.data.token),localStorage.setItem("userId",e.data.userId);var t=new Date;localStorage.setItem("expireTime",t.getTime()+e.data.expireTime),null==E?l.push("/home"):l.push({pathname:E})})).catch((function(e){console.log("error: ",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=T(!0);return B((function(){p.current?p.current=!1:s()}),[i]),Object(C.jsxs)("div",{className:e.container,style:{objectFit:"cover"},children:[Object(C.jsx)("div",{style:{width:"100vw",height:381,overflow:"hidden"},children:Object(C.jsx)("img",{src:y,alt:"bg",style:{height:"100%",width:"100%",objectFit:"cover"}})}),Object(C.jsxs)("div",{style:{margin:"16.5px 16px 0px"},children:[Object(C.jsx)(U,{variant:"contained",onClick:function(){var e=new A.a.auth.GoogleAuthProvider;A.a.auth().useDeviceLanguage(),A.a.auth().signInWithPopup(e).then((function(e){console.log("******resul******",e);e.credential.accessToken,e.user;var t={email:e.additionalUserInfo.profile.email,name:e.additionalUserInfo.profile.name,google_id:e.additionalUserInfo.profile.id,avatar:e.additionalUserInfo.profile.picture,token:e.credential.idToken};console.log("====data====",t),c(t)})).catch((function(e){e.code,e.message}))},startIcon:Object(C.jsx)("img",{src:S,alt:"google_icon",style:{height:"18px",weight:"18px"}}),children:"\u900f\u904eGoogle\u767b\u5165"}),Object(C.jsx)(W,{variant:"contained",onClick:function(){var e=new A.a.auth.FacebookAuthProvider;console.log("facebook firebase start"),A.a.auth().useDeviceLanguage(),A.a.auth().signInWithPopup(e).then((function(e){console.log("#######################"),console.log("====result==== ",e);var t={email:e.additionalUserInfo.profile.email,name:e.additionalUserInfo.profile.name,facebook_id:e.additionalUserInfo.profile.id,avatar:e.additionalUserInfo.profile.picture.data.url,token:e.credential.accessToken};console.log("====data====",t),c(t)})).catch((function(e){e.code,e.message})),console.log("facebook firebase end")},startIcon:Object(C.jsx)(m.a,{style:{color:"#ffffff"}}),children:"\u900f\u904eFACEBOOK\u767b\u5165"}),Object(C.jsx)(_,{variant:"contained",onClick:function(){var e=new A.a.auth.OAuthProvider("apple.com");e.addScope("email"),e.addScope("name"),A.a.auth().useDeviceLanguage(),A.a.auth().signInWithPopup(e).then((function(e){console.log("====result is like this==== ",e);var t=e.user.providerData[0].email,a="",o=!1;t.split("").forEach((function(e){"@"===e||!0===o?o=!0:a+=e}));var n={email:e.user.providerData[0].email,name:a,apple_id:e.user.uid,avatar:"https://imgur.com/gallery/TX5W1uj",token:e.credential.idToken};console.log("====data====",n),c(n)})).catch((function(e){console.log("error message:  ",e.message)}))},startIcon:Object(C.jsx)(x.a,{style:{color:"#ffffff"}}),children:"\u900f\u904eApple ID\u767b\u5165"}),Object(C.jsx)(F,{variant:"contained",onClick:function(){l.push("/login1")},startIcon:Object(C.jsx)(v.a,{style:{color:"#000000"}}),children:"\u900f\u904eMail\u767b\u5165"})]}),Object(C.jsx)(d.a,{theme:P,children:Object(C.jsx)("div",{style:{margin:"24px 0px 0px 0px"}})}),Object(C.jsxs)(g.a,{variant:"body2",component:"p",style:{color:"black",direction:"column",textAlign:"center"},children:["\u9084\u4e0d\u662f\u6703\u54e1\u55ce? ",Object(C.jsx)(k.Link,{to:"/signup",style:{color:"#000000"},children:"\u8a3b\u518a\u65b0\u5e33\u865f"})]}),Object(C.jsx)(u.a,{variant:"outlined",component:k.Link,to:"/home",style:{color:"#00d04c",fontWeight:"700",borderColor:"#00d04c",width:"182px",height:"40px",margin:"auto",marginTop:"16px"},children:"\u76f4\u63a5\u4f7f\u7528"})]})}}}]);
//# sourceMappingURL=2.cc9f74e5.chunk.js.map