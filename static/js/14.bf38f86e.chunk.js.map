{"version":3,"sources":["components/SideBar/Item.js","components/SideBar/Sidebar.js","pages/SearchResult/SearchResult.js","components/SearchBar/SearchBar.js","components/TopBar/BackArrow.js"],"names":["Item","props","titleL","titleR","marks","btns","btns_num","reset","useState","isDisplaymMoreBtn","setIsDisplaymMoreBtn","btnClick","setBtnClick","sliderNum","setSliderNum","useEffect","defaultVal","handleButtonClick","btn","value","getChild","showBtns","displaymMoreBtn","map","index","className","Button","variant","resetBtn","disableElevation","onClick","a","title","showDisplaymMoreBtn","Icon","resetSlider","Slider","step","valueLabelDisplay","min","max","length","onChangeCommitted","event","num","showSlider","useStyles","makeStyles","list","width","fullList","iconButton","padding","minHeight","minWidth","margin","axios","window","Sidebar","classes","kw","searchApi","theme","setTheme","difficulty","setDifficulty","evaluation","setEvaluation","altitude1","setAltitude1","altitude2","setAltitude2","county","setCounty","state","setState","anchor","setReset","themeArray","setThemeArray","countiesArray","label","marksOneChoose","marksTwoChoose","get","data","console","log","item","id","name","toggleDrawer","open","type","changeDifficulty","changeEvaluation","changeAltitude","numArray","IconButton","style","color","Drawer","onClose","role","find","getTheme","getCounty","setTimeout","filters","undefined","search","root","flexGrow","text","fontSize","fontWeight","marginTop","marginBottom","SearchResult","usehistory","useHistory","location","localStorage","getItem","searchResult","setSearchResult","uid","demoapi","then","res","searchApiSlideBar","url","setItem","Grid","container","direction","alignItems","justify","spacing","xs","push","pathname","BackArrow","SearchBar","GridList","cellHeight","cols","trail","TrailCard","textField","backgroundColor","searchIcon","marginLeft","marginRight","button","history","defaultkw","setValue","defaultValue","placeholder","size","onChange","target","InputProps","startAdornment","endAdornment","disableUnderline"],"mappings":"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","file":"static/js/14.bf38f86e.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport \"./sidebar.scoped.scss\";\r\nimport \"font-awesome/css/font-awesome.min.css\";\r\n\r\nexport default function Item(props) {\r\n  const { titleL, titleR, marks, btns, btns_num, reset } = props;\r\n  const [isDisplaymMoreBtn, setIsDisplaymMoreBtn] = useState(true);\r\n  const [btnClick, setBtnClick] = useState();\r\n  const [sliderNum, setSliderNum] = useState(2);\r\n\r\n  useEffect(() => {\r\n    if (marks) {\r\n      setSliderNum(() => marks.defaultVal);\r\n    }\r\n  }, [marks]);\r\n\r\n  const handleButtonClick = btn => {\r\n    if (btn.value === btnClick) {\r\n      setBtnClick(() => \"\");\r\n      props.getChild(\"\");\r\n    } else {\r\n      setBtnClick(btn.value);\r\n      props.getChild(btn.value);\r\n    }\r\n  };\r\n\r\n  const showBtns = displaymMoreBtn => {\r\n    if (displaymMoreBtn !== null && displaymMoreBtn !== isDisplaymMoreBtn)\r\n      setIsDisplaymMoreBtn(displaymMoreBtn);\r\n    return (\r\n      <>\r\n        {btns.map((btn, index) => {\r\n          return (\r\n            <>\r\n              {!isDisplaymMoreBtn || index + 1 <= btns_num ? (\r\n                <sapn className=\"btn-gray\">\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    className={\r\n                      reset\r\n                        ? resetBtn()\r\n                        : btnClick === btn.value\r\n                        ? \"MuiButton-active\"\r\n                        : \"\"\r\n                    }\r\n                    disableElevation\r\n                    onClick={async () => {\r\n                      handleButtonClick(btn);\r\n                    }}\r\n                    key={btn.value}\r\n                  >\r\n                    {btn.title}\r\n                  </Button>\r\n                </sapn>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </>\r\n          );\r\n        })}\r\n        {showDisplaymMoreBtn()}\r\n      </>\r\n    );\r\n  };\r\n  const showDisplaymMoreBtn = () => (\r\n    <div\r\n      className=\"showDisplaymMoreBtn\"\r\n      onClick={() => {\r\n        showBtns(!isDisplaymMoreBtn);\r\n      }}\r\n    >\r\n      <Icon\r\n        className={`fa ${isDisplaymMoreBtn ? \"fa-angle-down\" : \"fa-angle-up\"}`}\r\n      />\r\n      {isDisplaymMoreBtn ? \"顯示更多\" : \"顯示較少\"}\r\n    </div>\r\n  );\r\n  const showSlider = marks => (\r\n    <div className=\"slider\">\r\n      <Slider\r\n        step={null}\r\n        value={reset ? resetSlider(marks) : sliderNum}\r\n        valueLabelDisplay=\"off\"\r\n        marks={marks.marks}\r\n        min={marks.marks[0].value}\r\n        max={marks.marks[marks.marks.length - 1].value}\r\n        onChangeCommitted={(event, num) => {\r\n          setSliderNum(() => num);\r\n          props.getChild(num);\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n  const resetBtn = () => {\r\n    if (btnClick !== \"\") {\r\n      setBtnClick(() => \"\");\r\n      props.getChild(\"\");\r\n    }\r\n  };\r\n  const resetSlider = marks => {\r\n    if (sliderNum !== marks.defaultVal) {\r\n      setSliderNum(() => marks.defaultVal);\r\n      props.getChild(marks.defaultVal);\r\n    }\r\n    return marks.defaultVal;\r\n  };\r\n  return (\r\n    <div className=\"item\">\r\n      <div className=\"item__header\">\r\n        <span>{titleL}</span>\r\n        <span>{titleR}</span>\r\n      </div>\r\n      {marks ? (\r\n        <div className=\"item__marks\">{showSlider(marks)}</div>\r\n      ) : (\r\n        <div className=\"item__btns\">{showBtns(null)}</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TuneIcon from \"@material-ui/icons/Tune\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport Item from \"./Item.js\";\r\nimport \"./sidebar.scoped.scss\";\r\n\r\nconst useStyles = makeStyles({\r\n  list: {\r\n    width: 250\r\n  },\r\n  fullList: {\r\n    width: \"auto\"\r\n  },\r\n  iconButton: {\r\n    padding: 0,\r\n    minHeight: 0,\r\n    minWidth: 0,\r\n    margin: 0\r\n  }\r\n});\r\nconst axios = window.axios;\r\nexport default function Sidebar(props) {\r\n  const classes = useStyles();\r\n  const { kw, searchApi } = props;\r\n  const [theme, setTheme] = useState(\"\");\r\n  const [difficulty, setDifficulty] = useState();\r\n  const [evaluation, setEvaluation] = useState();\r\n  const [altitude1, setAltitude1] = useState();\r\n  const [altitude2, setAltitude2] = useState();\r\n  const [county, setCounty] = useState(\"\");\r\n  const [state, setState] = useState(false);\r\n  const [anchor] = useState(\"right\");\r\n  const [reset, setReset] = useState(false);\r\n  const [themeArray, setThemeArray] = useState();\r\n  const [countiesArray] = useState([\r\n    { value: \"1\", title: \"台北\" },\r\n    { value: \"2\", title: \"新北\" },\r\n    { value: \"3\", title: \"台中\" },\r\n    { value: \"4\", title: \"高雄\" },\r\n    { value: \"5\", title: \"新竹\" },\r\n    { value: \"6\", title: \"南投\" },\r\n    { value: \"7\", title: \"嘉義\" },\r\n    { value: \"8\", title: \"台南\" },\r\n    { value: \"9\", title: \"台東\" },\r\n    { value: \"10\", title: \"宜蘭\" }\r\n  ]);\r\n  const [marksOneChoose] = useState({\r\n    defaultVal: 3,\r\n    marks: [\r\n      {\r\n        value: 1,\r\n        label: \"1\"\r\n      },\r\n      {\r\n        value: 2,\r\n        label: \"2\"\r\n      },\r\n      {\r\n        value: 3,\r\n        label: \"3\"\r\n      },\r\n      {\r\n        value: 4,\r\n        label: \"4\"\r\n      },\r\n      {\r\n        value: 5,\r\n        label: \"5\"\r\n      }\r\n    ]\r\n  });\r\n  const [marksTwoChoose] = useState({\r\n    defaultVal: [0, 2000],\r\n    marks: [\r\n      {\r\n        value: 0,\r\n        label: \"\"\r\n      },\r\n      {\r\n        value: 1000,\r\n        label: \"1000\"\r\n      },\r\n      {\r\n        value: 2000,\r\n        label: \"2000\"\r\n      },\r\n      {\r\n        value: 3000,\r\n        label: \"3000\"\r\n      },\r\n      {\r\n        value: 4000,\r\n        label: \"\"\r\n      }\r\n    ]\r\n  });\r\n  useEffect(() => {\r\n    (async () => {\r\n      const { data } = await axios.get(\"api/collection\");\r\n      console.log(data, 1);\r\n      setThemeArray(\r\n        data.map(item => {\r\n          return { value: item.id, title: item.name };\r\n        })\r\n      );\r\n    })();\r\n  }, []);\r\n\r\n  const search = () => {\r\n    //改成組成篩選url後回傳至SearchResult內的funtcion再做ajax\r\n    let filters = `/api/trail?filters=title:${kw},difficulty:${\r\n      difficulty.value\r\n    },evaluation:${evaluation},altitude1:${altitude1},altitude2:${altitude2}`;\r\n    county.title !== undefined\r\n      ? (filters += `,county:${county.title}`)\r\n      : (filters += \"\");\r\n    theme.value !== undefined\r\n      ? (filters += `,collection:${theme.value}`)\r\n      : (filters += \"\");\r\n    searchApi(filters);\r\n    //恢復預設值\r\n    setCounty(() => \"\");\r\n    setTheme(() => \"\");\r\n    setDifficulty({ value: 3, title: \"覺得還好\" });\r\n    setEvaluation(3);\r\n    setAltitude1(0);\r\n    setAltitude2(1000);\r\n  };\r\n\r\n  const toggleDrawer = open => event => {\r\n    if (event.type === \"keydown\") return;\r\n    setState(open);\r\n  };\r\n  const getTheme = theme => {\r\n    if (theme === \"\") {\r\n      setTheme(\"\");\r\n    } else {\r\n      setTheme(() => themeArray.find(item => item.value === theme));\r\n    }\r\n  };\r\n  const changeDifficulty = num => {\r\n    switch (num) {\r\n      case 1:\r\n        setDifficulty({\r\n          value: num,\r\n          title: \"非常簡單\"\r\n        });\r\n        break;\r\n      case 2:\r\n        setDifficulty({\r\n          value: num,\r\n          title: \"簡單\"\r\n        });\r\n        break;\r\n      case 3:\r\n        setDifficulty({\r\n          value: num,\r\n          title: \"覺得還好\"\r\n        });\r\n        break;\r\n      case 4:\r\n        setDifficulty({\r\n          value: num,\r\n          title: \"困難\"\r\n        });\r\n        break;\r\n      case 5:\r\n        setDifficulty({\r\n          value: num,\r\n          title: \"非常困難\"\r\n        });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  const changeEvaluation = num => {\r\n    switch (num) {\r\n      case 1:\r\n        setEvaluation(num);\r\n        break;\r\n      case 2:\r\n        setEvaluation(num);\r\n        break;\r\n      case 3:\r\n        setEvaluation(num);\r\n        break;\r\n      case 4:\r\n        setEvaluation(num);\r\n        break;\r\n      case 5:\r\n        setEvaluation(num);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  const changeAltitude = numArray => {\r\n    setAltitude1(numArray[0]);\r\n    setAltitude2(numArray[1]);\r\n  };\r\n  const getCounty = county => {\r\n    if (county === \"\") {\r\n      setCounty(\"\");\r\n    } else {\r\n      setCounty(() => countiesArray.find(item => item.value === county));\r\n    }\r\n  };\r\n  const resetData = () => {\r\n    setReset(() => true);\r\n    setTimeout(() => {\r\n      setReset(false);\r\n    }, 0);\r\n  };\r\n  const content = () => (\r\n    <>\r\n      <Item\r\n        titleL=\"主題\"\r\n        btns={themeArray}\r\n        btns_num={4}\r\n        reset={reset}\r\n        getChild={theme => getTheme(theme)}\r\n      />\r\n      <hr />\r\n      <Item\r\n        titleL=\"難易度\"\r\n        titleR={\r\n          difficulty\r\n            ? difficulty.title\r\n            : \"\" || changeDifficulty(marksOneChoose.defaultVal)\r\n        }\r\n        reset={reset}\r\n        marks={marksOneChoose}\r\n        getChild={num => changeDifficulty(num)}\r\n      />\r\n      <hr />\r\n      <Item\r\n        titleL=\"評價\"\r\n        titleR={`${evaluation ||\r\n          changeEvaluation(marksOneChoose.defaultVal)}顆星`}\r\n        reset={reset}\r\n        marks={marksOneChoose}\r\n        getChild={num => changeEvaluation(num)}\r\n      />\r\n      <hr />\r\n      <Item\r\n        titleL=\"海拔\"\r\n        titleR={`\r\n      ${altitude1}至${altitude2 || changeAltitude(marksTwoChoose.defaultVal)}M\r\n    `}\r\n        reset={reset}\r\n        marks={marksTwoChoose}\r\n        getChild={numArray => changeAltitude(numArray)}\r\n      />\r\n      <hr />\r\n      <Item\r\n        titleL=\"縣市\"\r\n        btns={countiesArray}\r\n        btns_num={6}\r\n        reset={reset}\r\n        getChild={county => getCounty(county)}\r\n      />\r\n    </>\r\n  );\r\n  return (\r\n    <>\r\n      <IconButton className={classes.iconButton} onClick={toggleDrawer(true)}>\r\n        <TuneIcon style={{ color: \"#00d04c\" }} />\r\n      </IconButton>\r\n      <Drawer className=\"page\" anchor={anchor} open={state} onClose={toggleDrawer(false)}>\r\n        <div className={classes.list} role=\"presentation\">\r\n          <div className=\"sidebar\">\r\n            <div className=\"sidebar__header\">\r\n              <span>篩選搜尋</span>\r\n            </div>\r\n            <div className=\"sidebar__content\">{content()}</div>\r\n            <div className=\"sidebar__footer\">\r\n              <span className=\"btn-outline-success\">\r\n                <Button onClick={() => resetData()}>重設</Button>\r\n              </span>\r\n              <span className=\"btn-success\">\r\n                <Button\r\n                  onClick={() => {\r\n                    search();\r\n                    setState(false);\r\n                  }}\r\n                >\r\n                  使用\r\n                </Button>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Drawer>\r\n    </>\r\n  );\r\n}\r\n","import { Grid, GridList } from \"@material-ui/core\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchBar from \"../../components/SearchBar/SearchBar\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport BackArrow from \"../../components/TopBar/BackArrow\";\r\nimport TemporaryDrawer from \"../../components/SideBar/Sidebar\";\r\nimport TrailCard from \"../../components/Lists/TrailCard\";\r\nimport demoapi from \"axios/api\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    margin: \"16px\"\r\n  },\r\n  text: {\r\n    fontSize: 16,\r\n    fontWeight: 500,\r\n    marginTop: 12,\r\n    marginBottom: 12\r\n  }\r\n}));\r\n\r\nfunction SearchResult(props) {\r\n  const classes = useStyles();\r\n  console.log(props); //印出SearchBar的aboutProps\r\n  var kw = \"\";\r\n  const usehistory = useHistory(); //link router 上一頁\r\n  //判斷是否有來自於上一個頁面的kw，若沒有則從localStorage取值\r\n  if (props.location.state !== undefined) {\r\n    kw = props.location.state.name;\r\n  } else {\r\n    kw = localStorage.getItem(\"kw\");\r\n  }\r\n  //搜尋結果hook\r\n  const [searchResult, setSearchResult] = useState([]);\r\n  //頁面一載入就發送api請求\r\n  useEffect(() => {\r\n    searchApi(kw);\r\n    //載入完就清空kw，使重新載入頁面時會再發送一次api請求\r\n    return () => {\r\n      kw = \"\";\r\n    };\r\n  }, [kw]);\r\n  //搜尋function\r\n  const searchApi = async kw => {\r\n    let uid = \"\";\r\n    if (localStorage.getItem(\"userId\")) {\r\n      uid = localStorage.getItem(\"userId\");\r\n    }\r\n    await demoapi\r\n      .get(\"/api/trail?filters=title:\" + kw + \"&uuid=\" + uid)\r\n      .then(res => {\r\n        setSearchResult(res.data);\r\n      });\r\n  };\r\n  //搜尋function2\r\n  const searchApiSlideBar = async url => {\r\n    let uid = \"\";\r\n    if (localStorage.getItem(\"userId\")) {\r\n      uid = localStorage.getItem(\"userId\");\r\n    }\r\n    await demoapi.get(url + \"&uuid=\" + uid).then(res => {\r\n      setSearchResult(res.data);\r\n    });\r\n  };\r\n\r\n  localStorage.setItem(\"previous_pathname\", \"/searchResult\");\r\n  //useEffect\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid\r\n        container\r\n        direction=\"column\"\r\n        alignItems=\"flex-start\"\r\n        justify=\"flex-start\"\r\n        spacing={1}\r\n      >\r\n        <Grid item xs={12}>\r\n          <Link\r\n            onClick={() => {\r\n              usehistory.push({ pathname: \"/searchPage\" });\r\n            }}\r\n          >\r\n            <BackArrow />\r\n          </Link>\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          container\r\n          direction=\"row\"\r\n          justify=\"flex-start\"\r\n          alignItems=\"center\"\r\n          spacing={1}\r\n        >\r\n          <Grid item xs={11}>\r\n            {/* 搜尋欄component */}\r\n            <SearchBar props={(searchApi, kw)} />\r\n          </Grid>\r\n          <Grid item xs={1}>\r\n            {/* 名彥大哥的超猛篩選器 */}\r\n            <TemporaryDrawer kw={kw} searchApi={searchApiSlideBar} />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <div className={classes.text}>搜尋結果</div>\r\n        </Grid>\r\n        <Grid item xs={12} container direction=\"row\">\r\n          {searchResult.length > 0 ? (\r\n            // {/* 步道list component */}\r\n            <GridList cellHeight={72} cols={1}>\r\n              {searchResult.map(trail => (\r\n                <TrailCard data={trail} />\r\n              ))}\r\n            </GridList>\r\n          ) : (\r\n            <>查無結果</>\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\nexport default SearchResult;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { TextField } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  iconButton: {\r\n    padding: 0,\r\n    minHeight: 0,\r\n    minWidth: 0,\r\n    margin: 0\r\n  },\r\n  textField: {\r\n    backgroundColor: \"#e5e5ea\",\r\n    width: \"100%\"\r\n  },\r\n  searchIcon: {\r\n    marginLeft: \"16px\",\r\n    marginTop: \"12px\",\r\n    marginBottom: \"12px\",\r\n    marginRight: \"16px\"\r\n  },\r\n  button: {\r\n    padding: 0,\r\n    minHeight: 0,\r\n    minWidth: 0,\r\n    marginRight: \"19px\",\r\n    marginTop: \"12px\",\r\n    marginBottom: \"12px\"\r\n  }\r\n}));\r\n\r\nfunction SearchBar(props) {\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const defaultkw = props.props;\r\n  console.log(defaultkw);\r\n  const [value, setValue] = useState(\"\");\r\n  const handleInpuChange = () => event => {\r\n    setValue(event.target.value);\r\n  };\r\n  return (\r\n    <TextField\r\n      className={classes.textField}\r\n      defaultValue={defaultkw === undefined ? \"\" : defaultkw}\r\n      placeholder=\"搜尋步道\"\r\n      margin={\"normal\"}\r\n      size=\"small\"\r\n      onChange={\r\n        // (event) => {\r\n        // console.log(event.target.value)}\r\n        handleInpuChange({ value })\r\n      }\r\n      InputProps={{\r\n        startAdornment: (\r\n          // <Link to={{\r\n          //   pathname:'/searchResult',\r\n          //   aboutProps:{name:value}\r\n          // }}>\r\n          <IconButton\r\n            className={classes.iconButton}\r\n            onClick={() => {\r\n              localStorage.setItem(\"kw\", value);\r\n              history.push({\r\n                pathname: \"/searchResult\",\r\n                state: { name: value }\r\n              });\r\n            }}\r\n          >\r\n            <SearchIcon className={classes.searchIcon} />\r\n          </IconButton>\r\n          // {/* </Link> */}\r\n        ),\r\n        endAdornment: (\r\n          <IconButton className={classes.button}>\r\n            <MicIcon />\r\n          </IconButton>\r\n        ),\r\n        disableUnderline: true\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\n// import { makeStyles } from \"@material-ui/core/styles\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n// }));\r\n\r\nfunction BackArrow(props) {\r\n  \r\n  return (\r\n    <ArrowBackIcon style={{color:\"#000\"}} />\r\n  );\r\n}\r\nexport default BackArrow;\r\n"],"sourceRoot":""}