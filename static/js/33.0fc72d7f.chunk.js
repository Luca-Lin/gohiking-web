(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[33],{1018:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var n=a(39),o=a(15),r=a(24),i=a.n(r),l=a(0),c=a.n(l),s=a(346),p=a(354),f=a(749),h=a(26),d=a(95),x=a.n(d),m=a(86),g=a(197),u=a(106),b=a(75),j=a(3),k=Object(g.a)((function(e){return{form:{width:"100%"},submit:{width:"-webkit-fill-available",height:"48px",fontSize:"16px",margin:"56px 0 0",backgroundColor:"#00d04c",color:"#ffffff",borderRadius:4},container:{width:"-webkit-fill-available",height:"768px",padding:"40px 16px 213px",backgroundColor:"#ffffff"},MaterialIconsBlackArrowback:{width:"24",height:"24",color:"#00d04c",margin:"0 297px 61px 0"},InputBackground:{width:"-webkit-fill-available",height:"40",margin:"1px 0 0",padding:"9px 0 0",borderColor:"#232323"},Title:{width:"98",height:"36",margin:"0 281px 31px 0",fontFamily:"NotoSansCJKtc",fontSize:"24px",fontweight:500,lineheight:1.5,letterspacing:"0.5px",color:"#232323"},Text:{width:"66px",height:"24px",margin:"0 313px 1px 0",fontSize:"16px",fontWeight:"500",fontStretch:"normal",fontStyle:"normal",lineHeight:"1.5",letterSpacing:"0.5px",color:"#232323"},ErrorInfo:{width:"100%",height:"21px",margin:"16px 0 32px 0",fontFamily:"NotoSansCJKtc",fontSize:"14px",fontWeight:"normal",fontStretch:"normal",fontStyle:"normal",lineHeight:"1.5",letterSpacing:"0.5px",color:"#ff3b30"},ForgotInfo:{width:"100px",height:"21px",fontFamily:"NotoSansCJKtc",margin:"-30px 0 56px 263px",fontSize:"14px",fontWeight:"500",fontStretch:"normal",fontStyle:"normal",lineHeight:"1.5",letterSpacing:"0.5px",color:"#232323"},ModifyTextFieldColor:{fontSize:"14px",color:"#979797",borderColor:"#979797"}}}));function S(){var e,t=k(),r=Object(b.c)(),l=r.register,d=r.handleSubmit,g=r.errors,S=a(163),w=c.a.useState(),O=Object(o.a)(w,2),I=O[0],N=O[1],y=Object(h.k)(),v=Object(h.k)(),C=Object(h.k)(),T=Object(h.k)();var z=localStorage.getItem("previous_pathname"),F=function(){var t=Object(n.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,S.post("https://gohikingreboot.herokuapp.com/",a).then((function(t){console.log("correct"),e=t.data,localStorage.setItem("token",t.data.token),localStorage.setItem("userId",t.data.userId);var a=new Date;localStorage.setItem("expireTime",a.getTime()+t.data.expireTime),null==z?v.push("/home"):T.push({pathname:z})})).catch((function(t){var a,n;console.log("error"),e=t.response.data,a=!1,n=e.error,N({login:a,msg:n})})).finally((function(){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:t.container,children:[Object(j.jsx)(x.a,{className:t.MaterialIconsBlackArrowback,onClick:function(){C.push("/signin")}}),Object(j.jsx)(m.a,{className:t.Title,textalign:"left",children:"\u767b\u5165"}),Object(j.jsxs)("form",{className:t.form,onSubmit:d(F),children:[Object(j.jsx)(m.a,{className:t.Text,textalign:"left",children:"\u96fb\u5b50\u4fe1\u7bb1"}),Object(j.jsx)(p.a,{inputRef:l({required:!0}),className:t.InputBackground,id:"email",placeholder:"\u8acb\u8f38\u5165\u4f60\u7684\u96fb\u5b50\u4fe1\u7bb1",name:"email"}),Object(j.jsx)(m.a,{className:t.ErrorInfo,textalign:"left",children:g.email&&"\u8acb\u8f38\u5165\u6b63\u78baEmail"}),Object(j.jsx)(m.a,{className:t.Text,textalign:"left",children:"\u5bc6\u78bc"}),Object(j.jsx)(p.a,{inputRef:l({required:!0,minLength:8}),className:t.InputBackground,id:"password",placeholder:"\u8acb\u8f38\u5165\u4f60\u7684\u5bc6\u78bc",name:"password",type:"password"}),Object(j.jsxs)(m.a,{className:t.ErrorInfo,children:[g.password&&"\u5bc6\u78bc\u5fc5\u9808\u5305\u542b8\u500b\u5b57\u5143\u4ee5\u4e0a",I&&Object(j.jsx)(m.a,{className:t.ErrorInfo,children:I.msg})]}),Object(j.jsx)(u.a,{container:!0,justify:"flex-end",children:Object(j.jsx)(f.a,{onClick:function(){y.push("/login2")},children:Object(j.jsx)(m.a,{className:t.ForgotInfo,children:"\u5fd8\u8a18\u5bc6\u78bc?"})})}),Object(j.jsx)(s.a,{type:"submit",variant:"contained",className:t.submit,children:"\u767b\u5165"})]})]})}}}]);
//# sourceMappingURL=33.0fc72d7f.chunk.js.map