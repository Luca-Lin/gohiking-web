{"version":3,"sources":["components/PathwayCard/PathwayDistance.js","asset/img/map.svg","pages/HikingFrontend/NearByPathway.js","../node_modules/@material-ui/icons/Favorite.js","components/Bottom/Navigation.js","../node_modules/@material-ui/icons/LocationSearching.js","../node_modules/@material-ui/icons/LocationOn.js","../node_modules/@material-ui/icons/FavoriteBorder.js"],"names":["theme","createTheme","palette","primary","green","useStyles","makeStyles","gridcontain","marginRight","marginLeft","width","gridItem","position","height","margin","mediaHeading","textOverflow","fontSize","mediaFooter","whiteSpace","overflow","color","mediaDistance","mediaAvatar","borderRadius","minWidth","maxWidth","objectFit","limitText","img","favorite","top","left","transform","Rectangle","backgroundColor","minHeight","root","PathwayCard","props","avatar","title","location","miles","region","avatarAlt","trail_id","yourlng","yourlat","longitude","latitude","classes","m","start","end","lon1","Math","PI","lat1","lon2","lat2","d","acos","sin","cos","abs","round","getDistance","history","useHistory","data","useState","nothing","setNothing","checked","setChecked","checkFavorite","a","console","log","userId","localStorage","getItem","demoapi","get","then","res","map","element","catch","error","firstUpdate","useRef","useLayoutEffect","current","p","Grid","container","className","spacing","direction","justify","alignItems","item","xs","ButtonBase","src","alt","Checkbox","onChange","id","uid","post","status","handleFavoriteChange","icon","checkedIcon","style","name","component","onClick","push","pathname","state","Typography","noWrap","length","substring","len","ThemeProvider","Button","fullWidth","size","variant","startIcon","Divider","_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","_excluded","_extends","Object","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgMap","_ref","svgRef","titleId","xmlns","xmlnsXlink","x","y","viewBox","enableBackground","xmlSpace","ref","fill","points","ForwardRef","main","secondary","blue","WhiteTextTypography","withStyles","indicator","fontFamily","flexGrow","appbar","tabs","listItem","padding","mapBox","textAlign","DialogBtn","a11yProps","index","TabPanel","children","value","other","role","hidden","Box","NearByPathway","React","gpsSetting","setGpsSetting","openDialog","setOpenDialog","setValue","searchMaple","setSearchMaple","searchChallenge","setSearchChallenge","searchSpring","setSearchSpring","searchFamily","setSearchFamily","yes","setYes","GPS","navigator","geolocation","getCurrentPosition","success","initial","axios","response","trails","secondUpdate","lat","setLat","lng","setLng","pos","crd","coords","accuracy","err","warn","code","message","setItem","AppBar","Tabs","indicatorColor","event","newValue","Tab","label","path","coverImage","county","distance","Navigation","dfValue","Dialog","open","DialogTitle","DialogContent","DialogContentText","DialogActions","_interopRequireDefault","require","_interopRequireWildcard","defineProperty","exports","default","_default","createElement","footer","boxShadow","bottom","zIndex","showLabels","href"],"mappings":"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","file":"static/js/18.b004a998.chunk.js","sourcesContent":["import React, { useState, useLayoutEffect, useRef } from \"react\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// @material-ui/core components\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n// @material-ui/icons\r\n// core components\r\n// import styles from 'assets/jss/material-kit-pro-react/components/pathwayStyle.js';\r\n// import Box from '@material-ui/core/Box';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\r\nimport FavoriteBorder from \"@material-ui/icons/FavoriteBorder\";\r\nimport { Checkbox, Divider } from \"@material-ui/core\";\r\nimport Favorite from \"@material-ui/icons/Favorite\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\";\r\n//import styles from 'assets/jss/material-kit-pro-react/components/pathwayStyle.js';\r\n//import styles from '../../assets/jss/material-kit-pro-react/components/pathwayStyle';\r\n//import { whiteColor } from 'assets/jss/material-kit-pro-react';\r\n//Custom the Button theme\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport { createTheme } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n//import api\r\nimport demoapi from \"axios/api\";\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: green,\r\n  },\r\n});\r\nconst styles = {\r\n  gridcontain: {\r\n    marginRight: \"-15px\",\r\n    marginLeft: \"-15px\",\r\n    width: \"100%\",\r\n  },\r\n  gridItem: {\r\n    position: \"relative\",\r\n    width: \"auto\",\r\n    height: \"auto\",\r\n    margin: \"16px 0 0 0\",\r\n    /* flexBasis: \"auto\" */\r\n  },\r\n  mediaHeading: {\r\n    textOverflow: \"ellipsis\",\r\n    fontSize: \"16px\",\r\n  },\r\n  mediaFooter: {\r\n    fontSize: \"14px\",\r\n\r\n    whiteSpace: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    color: \"#919191\",\r\n  },\r\n  mediaDistance: {\r\n    fontSize: \"12px\",\r\n    textOverflow: \"ellipsis\",\r\n    whiteSpace: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    color: \"#919191\",\r\n  },\r\n  mediaAvatar: {\r\n    position: 'relative',\r\n    margin: '0 auto',\r\n    '& img': {\r\n      borderRadius: '4px',\r\n      minWidth: '104px',\r\n      maxWidth: '104px',// 待修改  PC版圖片太小無法自動拉寬\r\n      width: '100%',\r\n      height: '72px',\r\n      objectFit: 'cover',\r\n    }\r\n  },\r\n  limitText: {\r\n    fontSize: \"16px\",\r\n    width: \"38vw\",\r\n  },\r\n  img: {\r\n    borderRadius: \"4px\",\r\n    minWidth: \"104px\",\r\n    width: \"100%\",\r\n    height: \"72px\",\r\n    objectFit: \"cover\",\r\n  },\r\n  favorite: {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    color: \"#ffffff\",\r\n  },\r\n  Rectangle: {\r\n    fontSize: \"12px\",\r\n    width: \"105px\", //need to be fix\r\n    backgroundColor: \"rgba(0, 208, 76, 0.1)\",\r\n    minHeight: 32,\r\n    minWidth: 83,\r\n  },\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n};\r\n//指定title字數多的變\"...\"避免擋到顯示距離的button\r\nfunction renderContentLimit(p) {\r\n  const len = 9; // 超過9個字以\"...\"取代\r\n  //console.log(p.length);\r\n  if (p.length > len) {\r\n    const final = p.substring(0, len - 1) + \"...\";\r\n    return final;\r\n  } else {\r\n    return p;\r\n  }\r\n}\r\n\r\nfunction getDistance(start, end) {\r\n  var lon1 = (Math.PI / 180) * start.longitude;\r\n  var lat1 = (Math.PI / 180) * start.latitude;\r\n\r\n  var lon2 = (Math.PI / 180) * end.longitude;\r\n  var lat2 = (Math.PI / 180) * end.latitude;\r\n\r\n  // 地球半徑\r\n  var R = 6371;\r\n\r\n  // 兩點間距離 KM\r\n  var d =\r\n    Math.acos(\r\n      Math.sin(lat1) * Math.sin(lat2) +\r\n        Math.cos(lat1) * Math.cos(lat2) * Math.cos(lon2 - lon1)\r\n    ) * R;\r\n\r\n  // 公里轉公尺\r\n  var abs = Math.abs(d);\r\n\r\n  return Math.round(abs);\r\n}\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default function PathwayCard(props) {\r\n  const {\r\n    avatar,\r\n    title,\r\n    location,\r\n    miles,\r\n    region,\r\n    avatarAlt,\r\n    favorite,\r\n    trail_id,\r\n    yourlng,\r\n    yourlat,\r\n    longitude,\r\n    latitude,\r\n  } = props;\r\n  const classes = useStyles();\r\n  var start = { longitude: yourlng, latitude: yourlat };\r\n  var end = { longitude: longitude, latitude: latitude };\r\n  var m = getDistance(start, end);\r\n  const history = useHistory();\r\n\r\n  const handlePage = () => {\r\n    history.push({\r\n      pathname: \"/pathway\",\r\n      state: { trail_id: trail_id },\r\n    });\r\n  };\r\n  //api回傳資料\r\n  const data = props;\r\n  const [nothing, setNothing] = useState(false);\r\n  const [checked, setChecked] = useState(nothing);\r\n\r\n  const checkFavorite = async () => {\r\n    console.log(\"checkFavortite starts!\");\r\n    const userId = localStorage.getItem(\"userId\")\r\n      ? localStorage.getItem(\"userId\")\r\n      : 1;\r\n    //console.log('userId: ', userId);\r\n    await demoapi\r\n      .get(\"/api/favorites\" + \"?uuid=\" + userId) // 查詢使用者收藏的步道\r\n      .then((res) => {\r\n        res.data.map((element) => {\r\n          let counter = element.trail_id;\r\n          if (counter == trail_id) {\r\n            console.log(\"this trail has already been liked!\");\r\n            setNothing(true);\r\n            setChecked(true);\r\n          }\r\n        });\r\n      })\r\n      .catch(function(error) {\r\n        console.log(\"====error==== \", error);\r\n        console.log(\"checked is checked!\");\r\n      });\r\n  };\r\n\r\n  const firstUpdate = useRef(true);\r\n  useLayoutEffect(() => {\r\n    if (firstUpdate.current) {\r\n      firstUpdate.current = false;\r\n      checkFavorite();\r\n      return;\r\n    }\r\n    console.log(\"Checked is like: \", checked);\r\n  }, [checked]);\r\n\r\n  const handleFavoriteChange = (id) => {\r\n    const uid = localStorage.getItem(\"userId\")\r\n      ? localStorage.getItem(\"userId\")\r\n      : 1;\r\n    setChecked(!checked);\r\n    //console.log('uid: ',uid);\r\n    demoapi\r\n      .post(\"/api/favorite/?user_id=\" + uid + \"&trail_id=\" + id)\r\n      .then((res) => {\r\n        console.log(res.status);\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      <Grid\r\n        container\r\n        className={classes.gridcontain}\r\n        spacing={2}\r\n        direction=\"row\"\r\n        justify=\"center\"\r\n        alignItems=\"center\"\r\n      >\r\n        <Grid item className={classes.gridItem} xs={4}>\r\n          <ButtonBase>\r\n          <div className={classes.mediaAvatar}>\r\n          <img src={avatar} alt={avatarAlt} />\r\n            <Checkbox\r\n              data-testid=\"checkFavorite\"\r\n              checked={checked}\r\n              onChange={() => {\r\n                handleFavoriteChange(data.trail_id);\r\n              }}\r\n              icon={<FavoriteBorder fontSize={\"small\"} />}\r\n              checkedIcon={\r\n                <Favorite fontSize={\"small\"} style={{ color: \"#FFF\" }} />\r\n              }\r\n              className={classes.favorite}\r\n              name=\"favorite\"\r\n            />\r\n          </div>\r\n          </ButtonBase>\r\n        </Grid>\r\n        <Grid component={\"span\"} item xs={5}>\r\n          <ButtonBase onClick={handlePage}>\r\n            <Typography noWrap className={classes.mediaHeading}>\r\n              {renderContentLimit(title)}\r\n            </Typography>\r\n          </ButtonBase>\r\n          <Typography className={classes.mediaFooter}>\r\n            {region}\r\n            {location}\r\n          </Typography>\r\n          <Typography className={classes.mediaDistance}>\r\n            全程約 {miles} km\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <ThemeProvider theme={theme}>\r\n            <Button\r\n              fullWidth\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              className={classes.Rectangle}\r\n              startIcon={<LocationOnIcon />}\r\n            >\r\n              {m} km\r\n            </Button>\r\n          </ThemeProvider>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Divider />\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nPathwayCard.propTypes = {\r\n  pathLink: PropTypes.string,\r\n  avatar: PropTypes.string,\r\n  title: PropTypes.node,\r\n  location: PropTypes.node,\r\n  miles: PropTypes.node,\r\n};\r\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMap(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 511.999 511.999\",\n    style: {\n      enableBackground: \"new 0 0 511.999 511.999\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#44C868\"\n    },\n    d: \"M511.879,475.685l-40.224-221.611c-0.401-2.212-1.773-4.128-3.739-5.221l-101.242-56.31 c-1.314-0.732-2.787-1.023-4.234-0.911l18.419,237.608l-0.617,0.276l121.164,54.357c0.986,0.441,2.034,0.659,3.077,0.659 c1.651,0,3.287-0.543,4.632-1.596C511.313,481.22,512.376,478.428,511.879,475.685z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#44C868\"\n    },\n    d: \"M256,246.375l-103.545-53.931c-1.241-0.647-2.617-0.911-3.972-0.82 c0.359-0.022,0.72-0.02,1.078,0.008l-18.419,237.608l121.781,54.634c0.983,0.44,2.032,0.659,3.077,0.659l0,0V246.375z\"\n  })), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#4CE166\"\n    },\n    d: \"M149.56,191.633c-1.447-0.112-2.92,0.179-4.234,0.91l-101.243,56.31 c-1.966,1.093-3.338,3.008-3.739,5.221L0.121,475.685c-0.498,2.742,0.566,5.534,2.763,7.252c1.347,1.053,2.982,1.596,4.632,1.596 c1.043,0,2.092-0.217,3.077-0.659l120.504-54.061L149.56,191.633z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#4CE166\"\n    },\n    d: \"M362.439,191.628c-0.996,0.077-1.981,0.342-2.894,0.818L256,246.376v238.158c0,0,0,0,0.001,0 c1.045,0,2.095-0.218,3.077-0.659l121.781-54.634L362.439,191.628z\"\n  })), /*#__PURE__*/React.createElement(\"polygon\", {\n    style: {\n      fill: \"#FFDB56\"\n    },\n    points: \"28.154,321.233 19.983,366.252 140.977,302.346 143.786,266.107 144.252,260.097 \"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#A8EEFC\"\n    },\n    d: \"M142.066,288.294l-1.089,14.052L19.983,366.252L0.121,475.685c-0.498,2.742,0.566,5.534,2.763,7.252 c1.347,1.053,2.982,1.596,4.632,1.596c1.043,0,2.092-0.217,3.077-0.659l120.504-54.061L142.066,288.294L142.066,288.294z\"\n  }), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n    style: {\n      fill: \"#FFBB24\"\n    },\n    points: \"256.03,276.08 144.252,260.097 140.977,302.346 256,477.025 256,413.507 187.363,305.429  256.03,313.642  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    style: {\n      fill: \"#FFBB24\"\n    },\n    points: \"459.946,244.421 411.311,217.37 365.269,228.128 365.845,235.564 368.119,264.898  \"\n  })), /*#__PURE__*/React.createElement(\"polygon\", {\n    style: {\n      fill: \"#FFDB56\"\n    },\n    points: \"372.202,317.576 367.842,261.327 367.842,261.327 365.269,228.128 256.03,276.08  256.03,313.642 327.386,282.612 \"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFBB24\"\n    },\n    d: \"M511.879,475.685l-10.103-55.666L368.119,264.898l4.084,52.678l137.07,165.221 C511.357,481.07,512.364,478.358,511.879,475.685z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FF4A4A\"\n    },\n    d: \"M256.481,27.465c-57.963,0-105.12,47.118-105.12,105.034c0,35.826,17.009,74.29,50.556,114.322 c24.639,29.403,48.943,48.314,49.966,49.105c1.354,1.047,2.976,1.57,4.599,1.57c1.622,0,3.245-0.523,4.599-1.57 c1.022-0.791,25.327-19.702,49.966-49.105c33.547-40.032,50.556-78.495,50.556-114.322 C361.601,74.583,314.444,27.465,256.481,27.465z M295.411,132.498c0,21.482-17.43,38.898-38.93,38.898 c-21.5,0-38.93-17.415-38.93-38.898s17.43-38.898,38.93-38.898C277.981,93.6,295.411,111.016,295.411,132.498z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#E7343F\"\n    },\n    d: \"M256.481,27.465c-4.594,0-9.119,0.298-13.559,0.872c51.583,6.667,91.562,50.836,91.562,104.162 c0,35.826-17.009,74.29-50.556,114.322c-15.845,18.908-31.54,33.467-41.005,41.669c5.254,4.552,8.596,7.154,8.96,7.436 c1.354,1.047,2.976,1.57,4.599,1.57c1.622,0,3.245-0.523,4.599-1.57c1.022-0.791,25.327-19.702,49.966-49.105 c33.547-40.032,50.556-78.495,50.556-114.322C361.601,74.583,314.444,27.465,256.481,27.465z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFDB56\"\n    },\n    d: \"M259.078,483.874l45.285-20.316L256,413.507v71.026c0,0,0,0,0.001,0 C257.046,484.533,258.095,484.316,259.078,483.874z\"\n  }), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#1EA4E9\"\n    },\n    d: \"M471.654,254.074c-0.401-2.212-1.773-4.128-3.739-5.221l-7.97-4.433l-91.827,20.477l0,0 l133.656,155.121L471.654,254.074z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#1EA4E9\"\n    },\n    d: \"M255.999,484.533C256,484.533,256,484.533,255.999,484.533v-7.508L140.977,302.346l-9.837,126.895 l121.781,54.634C253.904,484.316,254.953,484.533,255.999,484.533z\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null)), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMap);\nexport default __webpack_public_path__ + \"static/media/map.8ffe5ab1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState, useRef, useLayoutEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\n// Import Swiper React components\r\n// Import Swiper styles\r\nimport Button from \"@material-ui/core/Button\";\r\nimport PropTypes from \"prop-types\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Navigation from \"../../components/Bottom/Navigation\";\r\nimport PathwayDistance from \"../../components/PathwayCard/PathwayDistance\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport { ReactComponent as Map } from \"../../asset/img/map.svg\";\r\n// for GPS dialog\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n// Custom the Button theme\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport { createTheme } from \"@material-ui/core/styles\";\r\nimport { blue } from \"@material-ui/core/colors\";\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      // This is green we need to use\r\n      main: \"#00d04c\",\r\n    },\r\n    secondary: blue,\r\n  },\r\n});\r\n\r\nconst WhiteTextTypography = withStyles({\r\n  root: {\r\n    color: \"#FFFFFF\",\r\n  },\r\n})(Typography);\r\n\r\nconst styles = {\r\n  indicator: {\r\n    backgroundColor: \"#00d04c\",\r\n  },\r\n  root: {\r\n    fontFamily: \"NotoSansCJKtc\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n  },\r\n  appbar: {\r\n    width: \"-webkit-fill-available\",\r\n    height: \"56px\",\r\n    backgroundColor: \"#3c5754\",\r\n  },\r\n  tabs: {\r\n    width: \"-webkit-fill-available\",\r\n    height: \"48px\",\r\n    margin: \"12px 0 0\",\r\n    backgroundColor: \"#3c5754\",\r\n  },\r\n  listItem: {\r\n    height: \"48px\",\r\n    margin: \"20px 20px 20px\",\r\n    fontSize: \"20px\",\r\n  },\r\n  title: {\r\n    fontFamily: \"PingFangTC\",\r\n    width: \"-webkit-fill-available\",\r\n    padding: \"17px 0 0 16px\",\r\n    fontSize: \"18px\",\r\n  },\r\n  mapBox: {\r\n    width: 210,\r\n    margin: \"123px auto\",\r\n    textAlign: \"center\",\r\n    fontSize: 16,\r\n  },\r\n  DialogBtn: {\r\n    color: \"#007aff\",\r\n    fontSize: \"14px\",\r\n  },\r\n};\r\nconst useStyles = makeStyles(styles);\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `nav-tab-${index}`,\r\n    \"aria-controls\": `nav-tabpanel-${index}`,\r\n  };\r\n}\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`nav-tabpanel-${index}`}\r\n      aria-labelledby={`nav-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          <Typography component={\"span\"} className={classes.listItem}>\r\n            {children}\r\n          </Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction NearByPathway() {\r\n  //style for this page\r\n  const classes = useStyles();\r\n  //gps & get api setting\r\n  const [gpsSetting, setGpsSetting] = React.useState(false);\r\n  const [openDialog, setOpenDialog] = React.useState(true);\r\n  const [value, setValue] = React.useState(0);\r\n  const [searchMaple, setSearchMaple] = useState([]);\r\n  const [searchChallenge, setSearchChallenge] = useState([]);\r\n  const [searchSpring, setSearchSpring] = useState([]);\r\n  const [searchFamily, setSearchFamily] = useState([]);\r\n  const [yes, setYes] = useState(\"\");\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n  const handleSetting = () => {\r\n    setOpenDialog(false);\r\n    setYes(1);\r\n  };\r\n  const handleCancel = () => {\r\n    setOpenDialog(false);\r\n  };\r\n\r\n  const GPS = async () => {\r\n    await navigator.geolocation.getCurrentPosition(success, error);\r\n  };\r\n\r\n  //call trails and set trails data in search and id is category\r\n  const initial = async () => {\r\n    await axios\r\n      .get(\"https://gohikingreboot.herokuapp.com/api/classification/4&uuid=1\")\r\n      .then((response) => {\r\n        //console.log(response.data.trails);\r\n        setSearchMaple(response.data.trails);\r\n      });\r\n    await axios\r\n      .get(\"https://gohikingreboot.herokuapp.com/api/classification/14&uuid=1\")\r\n      .then((response) => {\r\n        //console.log(response.data.trails);\r\n        setSearchChallenge(response.data.trails);\r\n      });\r\n    await axios\r\n      .get(\"https://gohikingreboot.herokuapp.com/api/classification/24&uuid=1\")\r\n      .then((response) => {\r\n        //console.log(response.data.trails);\r\n        setSearchSpring(response.data.trails);\r\n      });\r\n    await axios\r\n      .get(\"https://gohikingreboot.herokuapp.com/api/classification/34&uuid=1\")\r\n      .then((response) => {\r\n        //console.log(response.data.trails);\r\n        setSearchFamily(response.data.trails);\r\n      });\r\n    console.log(\"======success========\");\r\n  };\r\n\r\n  const firstUpdate = useRef(true);\r\n  useLayoutEffect(() => {\r\n    if (!firstUpdate.current) {\r\n      firstUpdate.current = false;\r\n      return;\r\n    }\r\n    console.log(\"prepare to initial!\");\r\n    initial();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const secondUpdate = useRef(true);\r\n  useLayoutEffect(() => {\r\n    if (secondUpdate.current) {\r\n      secondUpdate.current = false;\r\n      return;\r\n    }\r\n    console.log(\"GPS is fired now!\");\r\n    GPS();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [yes]);\r\n\r\n  const [lat, setLat] = useState(0);\r\n  const [lng, setLng] = useState(0);\r\n\r\n  function success(pos) {\r\n    var crd = pos.coords;\r\n    setLat(crd.latitude);\r\n    setLng(crd.longitude);\r\n    console.log(\"Your current position is:\");\r\n    console.log(\"Latitude : \" + crd.latitude);\r\n    console.log(\"Longitude: \" + crd.longitude);\r\n    console.log(\"More or less \" + crd.accuracy + \" meters.\");\r\n    setGpsSetting(true);\r\n  }\r\n\r\n  function error(err) {\r\n    console.warn(\"ERROR(\" + err.code + \"): \" + err.message);\r\n  }\r\n\r\n  localStorage.setItem(\"previous_pathname\", \"/NearByPathway\");\r\n\r\n  return (\r\n    <>\r\n      <ThemeProvider theme={theme}>\r\n        <div className={classes.root}>\r\n          <AppBar className={classes.appbar} position=\"static\">\r\n            <WhiteTextTypography className={classes.title}>\r\n              附近步道\r\n            </WhiteTextTypography>\r\n            <Tabs\r\n              indicatorColor=\"primary\"\r\n              className={classes.tabs}\r\n              value={value}\r\n              onChange={handleChange}\r\n              variant=\"fullWidth\"\r\n              aria-label=\"collection tabs\"\r\n            >\r\n              <Tab\r\n                label={<span style={{ color: \"#ffffff\" }}>賞楓</span>}\r\n                {...a11yProps(0)}\r\n              />\r\n              <Tab\r\n                label={<span style={{ color: \"#ffffff\" }}>挑戰</span>}\r\n                {...a11yProps(1)}\r\n              />\r\n              <Tab\r\n                label={<span style={{ color: \"#ffffff\" }}>溫泉</span>}\r\n                {...a11yProps(2)}\r\n              />\r\n              <Tab\r\n                label={<span style={{ color: \"#ffffff\" }}>親子</span>}\r\n                {...a11yProps(3)}\r\n              />\r\n            </Tabs>\r\n          </AppBar>\r\n          {gpsSetting ? (\r\n            <>\r\n              <TabPanel value={value} index={0}>\r\n                {searchMaple.map((path, i) => (\r\n                  <PathwayDistance\r\n                    favorite={path.favorite}\r\n                    avatar={path.coverImage}\r\n                    title={path.title}\r\n                    region={path.location.county.name}\r\n                    location={path.location.name}\r\n                    miles={path.distance}\r\n                    yourlng={lng}\r\n                    yourlat={lat}\r\n                    longitude={path.longitude}\r\n                    latitude={path.latitude}\r\n                    trail_id={path.id}\r\n                    key={i}\r\n                  />\r\n                ))}\r\n              </TabPanel>\r\n              <TabPanel value={value} index={1}>\r\n                {searchChallenge.map((path, i) => (\r\n                  <PathwayDistance\r\n                    favorite={path.favorite}\r\n                    avatar={path.coverImage}\r\n                    title={path.title}\r\n                    region={path.location.county.name}\r\n                    location={path.location.name}\r\n                    miles={path.distance}\r\n                    yourlng={lng}\r\n                    yourlat={lat}\r\n                    longitude={path.longitude}\r\n                    latitude={path.latitude}\r\n                    trail_id={path.id}\r\n                    key={i}\r\n                  />\r\n                ))}\r\n              </TabPanel>\r\n              <TabPanel value={value} index={2}>\r\n                {searchSpring.map((path, i) => (\r\n                  <PathwayDistance\r\n                    favorite={path.favorite}\r\n                    avatar={path.coverImage}\r\n                    title={path.title}\r\n                    region={path.location.county.name}\r\n                    location={path.location.name}\r\n                    miles={path.distance}\r\n                    yourlng={lng}\r\n                    yourlat={lat}\r\n                    longitude={path.longitude}\r\n                    latitude={path.latitude}\r\n                    trail_id={path.id}\r\n                    key={i}\r\n                  />\r\n                ))}\r\n              </TabPanel>\r\n              <TabPanel value={value} index={3}>\r\n                {searchFamily.map((path, i) => (\r\n                  <PathwayDistance\r\n                    favorite={path.favorite}\r\n                    avatar={path.coverImage}\r\n                    title={path.title}\r\n                    region={path.location.county.name}\r\n                    location={path.location.name}\r\n                    miles={path.distance}\r\n                    yourlng={lng}\r\n                    yourlat={lat}\r\n                    longitude={path.longitude}\r\n                    latitude={path.latitude}\r\n                    trail_id={path.id}\r\n                    key={i}\r\n                  />\r\n                ))}\r\n              </TabPanel>\r\n            </>\r\n          ) : (\r\n            <div>\r\n              <div className={classes.mapBox}>\r\n                <Map />\r\n                <br />\r\n                GPS未開啓\r\n                <br />\r\n                請至『設定』並開啟位置設定\r\n              </div>\r\n            </div>\r\n          )}\r\n          <Navigation dfValue={2} />\r\n          <Dialog\r\n            fullWidth\r\n            open={openDialog}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n          >\r\n            <DialogTitle id=\"alert-dialog-title\">GPS 未開啟</DialogTitle>\r\n            <DialogContent>\r\n              <DialogContentText id=\"alert-dialog-description\">\r\n                請至『設定』並開啟位置設定。\r\n              </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"secondary\" onClick={handleCancel}>\r\n                取消\r\n              </Button>\r\n              <Button color=\"secondary\" onClick={handleSetting}>\r\n                設定\r\n              </Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        </div>\r\n      </ThemeProvider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NearByPathway;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"\n}), 'Favorite');\n\nexports.default = _default;","\r\nimport React, { Fragment } from \"react\";\r\nimport { makeStyles} from '@material-ui/core/styles';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\n\r\n\r\nimport LocationSearchingIcon from '@material-ui/icons/LocationSearching';\r\nconst useStyles = makeStyles((theme) => ({\r\n  footer:{\r\n    boxShadow:\" 0 0 3px 0 rgba(0, 0, 0, 0.2)\",\r\n    backgroundColor:\"white\",\r\n    position:\"fixed\",\r\n    bottom:0,\r\n    left:0,\r\n    zIndex:1,\r\n    width:\"100%\",\r\n    fontFamily:\"NotoSansCJKtc\",\r\n  }, \r\n}));\r\n\r\nfunction Navigation(props) {\r\n  const{dfValue}=props;\r\n  const classes = useStyles(); \r\n  const [value, setValue] = React.useState(dfValue);\r\n\r\n  return(\r\n    \r\n    <Fragment>\r\n    <div className={classes.bottom}>\r\n    <BottomNavigation\r\n     value={value} \r\n     onChange={(event, newValue) => {\r\n        setValue(newValue);\r\n      }}\r\n     showLabels\r\n     className={classes.footer}\r\n     >\r\n     \r\n      <BottomNavigationAction label=\"首頁\" href=\"/home\" icon={<HomeIcon />} />\r\n      <BottomNavigationAction label=\"步道搜尋\" href=\"/searchPage\" icon={<SearchIcon />} />\r\n      <BottomNavigationAction label=\"附近步道\"  href=\"/nearbypathway\"  icon={ <LocationSearchingIcon />} />\r\n      <BottomNavigationAction label=\"我的收藏\" href=\"/CollectPage\"  icon={<FavoriteIcon  />} />\r\n     </BottomNavigation>\r\n    </div>\r\n  </Fragment>\r\n  );\r\n}\r\nexport default Navigation;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.94 11c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\"\n}), 'LocationSearching');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n}), 'LocationOn');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z\"\n}), 'FavoriteBorder');\n\nexports.default = _default;"],"sourceRoot":""}