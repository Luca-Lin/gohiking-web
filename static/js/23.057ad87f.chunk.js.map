{"version":3,"sources":["pages/ColumnPage/ColumnPage.js","../node_modules/@material-ui/icons/Favorite.js","../node_modules/@material-ui/icons/Share.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","width","fontFamily","backArrow","position","top","left","margin","display","height","link","color","favoriteIcon","right","shareIcon","bar","backgroundColor","Img","title","textIndent","fontSize","fontWeight","lineHeight","letterSpacing","text","background","textlist","trailList","padding","arrow","objectFit","back","textDecoration","Column","props","classes","useState","trail","setTrail","article","setArticle","id","match","params","console","log","uid","localStorage","getItem","articleApi","a","demoapi","get","then","res","data","trails","useEffect","setItem","className","src","image","item","xs","to","onClick","navigator","share","url","catch","content","container","cellHeight","cols","map","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d"],"mappings":"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","file":"static/js/23.057ad87f.chunk.js","sourcesContent":["import React, {  useState, useEffect } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  ThemeProvider,\r\n} from \"@material-ui/core/styles\";\r\nimport {  Grid, GridList } from \"@material-ui/core\";\r\nimport TrailCard from \"../../components/Lists/TrailCard\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport demoapi from \"../../axios/api\"; //引入api\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    fontFamily: \"NotoSansCJKtc\",\r\n  },\r\n\r\n  backArrow: {\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    left: \"0\",\r\n    margin:\"5px\",\r\n    display: \"block\",\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n   \r\n  },\r\n  link:{\r\n    color:\"#ffffff\",\r\n  },\r\n  favoriteIcon: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    margin:\"5px\",\r\n    right: \"20%\",\r\n    display: \"block\",\r\n    color: \"#ffffff\",\r\n  },\r\n  shareIcon: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    right: \"0\",\r\n    margin:\"5px\",\r\n    display: \"block\",\r\n    color: \"#ffffff\",\r\n  },\r\n  bar: {\r\n    height: \"56px\",\r\n    backgroundColor: \"transparent\",\r\n  },\r\n  Img: {\r\n    width: \"100%\",\r\n    height: \"179px\",\r\n  },\r\n  title: {\r\n    height: \"36px\",\r\n    textIndent: \"5%\",\r\n    fontSize: \"20px\",\r\n    fontWeight: \"bold\",\r\n    lineHeight: \"1.5\",\r\n    letterSpacing: \"0.46px\",\r\n\r\n    color: \"#232323\",\r\n  },\r\n  text: {\r\n    height: \"84px\",\r\n    margin: \"16px 16px 24px\",\r\n    fontSize: \"14px\",\r\n\r\n    lineHeight: \"1.5\",\r\n    letterSpacing: \"0.5px\",\r\n    color: \"#232323\",\r\n  },\r\n  background: {\r\n    margin: \"24px 16px\",\r\n    height: \"1px\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  textlist: {\r\n    width: \"74px\",\r\n    height: \"27px\",\r\n    width: \"100%\",\r\n    textIndent: \"5%\",\r\n    fontSize: \"18px\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  trailList: {\r\n    padding: \" 5%\",\r\n  },\r\n  arrow: {\r\n    width: \"24px\",\r\n    height: \"24px\",\r\n    margin: \"1px 32px 2px 0\",\r\n    objectFit: \"contain\",\r\n  },\r\n  back:{\r\n    textDecoration:\"none\",\r\n    color:\"#0000FF\",\r\n  },\r\n \r\n\r\n}));\r\n\r\nfunction Column(props) {\r\n  const classes = useStyles();\r\n  const [trail, setTrail] = useState([]);\r\n  const [article, setArticle] = useState([]);\r\n  const id = props.match.params.id;\r\n\r\n  console.log(id);\r\n  var uid = 0;\r\n  if(localStorage.getItem('userId')){\r\n     uid= localStorage.getItem('userId'); //取得localstorage ussrId\r\n   }else{\r\n     uid = null;  //取不到user Id\r\n   }\r\n\r\n  const articleApi = async (id) => {\r\n    //搜尋文章頁面api\r\n    await demoapi.get(\"/api/article/\" + id + \"?uuid=\"+uid).then((res) => {\r\n      setArticle(res.data);\r\n      setTrail(res.data.trails);\r\n    });\r\n  };\r\n const handleShare = () => {\r\n            if (navigator.share) {\r\n                console.log(\"Congrats! Your browser supports Web Share API\");\r\n                navigator\r\n                    .share({\r\n                        url: `https://share.toogoodtogo.com/store/1006/milestones/meals-saved/`\r\n                    })\r\n                    .then(() => {\r\n                        console.log(\"Sharing successfull\");\r\n                    })\r\n                    .catch(() => {\r\n                        console.log(\"Sharing failed\");\r\n                    }); \r\n            } else {\r\n                console.log(\"Sorry! Your browser does not support Web Share API\");\r\n            }\r\n        };\r\n  useEffect(() => {\r\n    articleApi(id);\r\n  }, [id]);\r\n  console.log(article);\r\n\r\n  localStorage.setItem(\"previous_pathname\", \"/columnPage/\" + id);\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.root}>\r\n        <ThemeProvider>\r\n          <img src={article.image} className={classes.Img} />\r\n\r\n          <Grid item xs={12} className={classes.backArrow}>\r\n          <Link to=\"/home\" className={classes.link}> \r\n          <ArrowBackIcon />\r\n          </Link>\r\n        \r\n          </Grid>\r\n          <Grid className={classes.favoriteIcon}>\r\n            <FavoriteIcon />\r\n          </Grid>\r\n          <Grid className={classes.shareIcon}>\r\n            <ShareIcon  onClick={handleShare} />\r\n          </Grid>\r\n          <div className={classes.title}>{article.title}</div>\r\n          <Grid item xs={12}>\r\n            <div className={classes.text}>{article.content}</div>\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n            <div className={classes.background} />\r\n          </Grid>\r\n          <Grid item xs={12} container>\r\n            <div className={classes.textlist}>步道推薦</div>\r\n            <div className={classes.trailList}>\r\n              <GridList cellHeight={72} cols={1}>\r\n                {trail.map((trail) => (\r\n                  <TrailCard data={trail} />\r\n                ))}\r\n              </GridList>\r\n            </div>\r\n          </Grid>\r\n        </ThemeProvider>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Column;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"\n}), 'Favorite');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z\"\n}), 'Share');\n\nexports.default = _default;"],"sourceRoot":""}